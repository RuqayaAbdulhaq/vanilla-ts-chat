var ChatWidget=function(){function t(t,e){this.phoneImg='<img id="chat-header-icon" src="https://chat-widget-ts.vercel.app/phone.png"/>',this.sendImg='<img  id="chat-header-icon" src="https://chat-widget-ts.vercel.app/send.png"/>',this.getInputWidget=function(t,e){var n="",i="align-items: center;",a="flex: 1; padding: 5px; margin-right: 10px;",c="padding: 5px 10px; background-color: #30a4f8; color: white; border: none; cursor: pointer;";switch(e){case"chat":n='\n          <div id="input-container" style="display: '.concat(t,"; ").concat(i,'">\n            <input type="text" id="chat-user-input" placeholder="Type your message..." style="').concat(a,'">\n            <button id="chat-send-btn" style="').concat(c,'">Send</button>\n          </div>\n        ');break;case"call":n='\n          <div id="input-container-call" style="display: '.concat(t,"; ").concat(i,'">\n            <input type="text" id="call-user-input" placeholder="Phone or schedule.." style="').concat(a,'">\n            <button id="chat-call-btn" style="').concat(c,'">Call</button>\n          </div>\n        ')}return n},this.getIconWidget=function(t){var e=document.createElement("img");return e.src="https://chat-widget-ts.vercel.app/".concat("calling-small"===t?"phone.png":"chat.png"),e.alt="chat.png",e.id="chat-widget-icon",e.style.cursor="pointer",e},this.widgetType=e,this.chatWidget=this.createChatWidget(t,e),document.body.appendChild(this.chatWidget),this.chatMessagesContainer=this.chatWidget.querySelector("#chat-messages"),this.initializeEventListeners(e)}return t.prototype.createChatWidget=function(t,e){var n=document.createElement("div");n.id="chat-widget",n.style.cssText="\n      position: fixed; bottom: 20px; ".concat(t.includes("right")?"right":"left",": 20px; \n      z-index: 1000;"),n.innerHTML=this.getWidgetHTML(t,e);var i=this.getIconWidget(e);return n.appendChild(i),n},t.prototype.getWidgetHTML=function(t,e){var n="\n      display: none; flex-direction: column-reverse; position: absolute; bottom: 60px; \n      width: 250px; height: 350px; background: #fff; \n      box-shadow: 0 0 10px rgba(0,0,0,0.2); padding: 10px; \n      right: ".concat("bottom-right"===t?"0":"auto",";\n      left: ").concat("bottom-left"===t?"0":"auto",";"),i="position: relative; flex-direction: column-reverse; display: flex; height: 90%;",a="position: absolute; width: 100%; padding: 5px 10px; background-color: #30a4f8; color: white; border: none; cursor: pointer; top: 0;",c='<div style="'.concat("flex-direction: column; display: flex; overflow-y: auto; max-height: 80%;",'" id="chat-messages"></div>'),o="";if("calling-small"!==this.widgetType)switch(e){case"text-option-call":o='\n          <div id="chat-body" style="'.concat(n,'">\n            ').concat(this.getInputWidget("none","call"),"\n            ").concat(this.getInputWidget("flex","chat"),'\n            <div id="chat-container" style="').concat(i,'">\n              ').concat(c,'\n              <button style="').concat(a,'" id="switch-widget-btn">\n                ').concat(this.phoneImg,"\n              </button>\n            </div>\n          </div>\n          ");break;case"text-only":o='\n          <div id="chat-body" style="'.concat(n,'">\n            ').concat(this.getInputWidget("flex","chat"),'\n            <div id="chat-container" style="').concat(i,'">\n              ').concat(c,"\n            </div>\n          </div>\n          ");break;case"call-option-text":o='\n            <div id="chat-body" style="'.concat(n,'">\n                ').concat(this.getInputWidget("flex","call"),"\n                ").concat(this.getInputWidget("none","chat"),'\n                <div id="chat-container" style="').concat(i,'">\n                  ').concat(c,'\n                  <button style="').concat(a,'" id="switch-widget-btn">\n                    ').concat(this.sendImg,"\n                  </button>\n                </div>\n            </div>\n          ");break;case"call-only":o='\n            <div id="chat-body" style="'.concat(n,'">\n              ').concat(this.getInputWidget("flex","call"),"\n            </div>\n          ")}return o},t.prototype.initializeEventListeners=function(t){var e=this;this.chatWidget.addEventListener("click",function(n){var i=n.target;if("chat-send-btn"===i.id){var a=e.chatWidget.querySelector('input[type="text"]'),c=a.value;e.sendMessage(c,!0),a.value="",e.sendMessage("hi,we'll be with you right away!",!1)}else if("chat-call-btn"===i.id)e.initiateCall();else if("switch-widget-btn"===i.id||"chat-header-icon"===i.id){var o=document.querySelector("#switch-widget-btn"),a=document.querySelector("#input-container"),l=document.querySelector("#input-container-call"),s=document.getElementById("chat-messages");"none"!==a.style.display?(a.style.display="none",s.innerHTML="",l.style.display="flex",o&&(o.innerHTML=e.sendImg)):(a.style.display="flex",s.innerHTML="",l.style.display="none",o&&(o.innerHTML=e.phoneImg)),l.value="",a.value=""}else if("chat-widget-icon"===i.id){if("calling-small"===t)e.initiateCall();else{var d=document.querySelector("#chat-body");d&&(d.style.display="none"===d.style.display?"flex":"none")}}})},t.prototype.initiateCall=function(){alert("Initiating call...")},t.prototype.sendMessage=function(t,e){var n=document.createElement("div");n.style.cssText="\n      margin-bottom: 10px; padding: 10px; border-radius: 5px; \n      max-width: 80%; background-color: ".concat(e?"#30a4f8":"#f2f2f2","; color: ").concat(e?"white":"#333","; \n      align-self: ").concat(e?"flex-start":"flex-end",";"),n.textContent=t,this.chatMessagesContainer.appendChild(n)},t}();if(document.currentScript){var t="bottom-right",e="text-only",n=document.querySelector("script[chat-data-position]");n&&(t=n.getAttribute("chat-data-position")||"bottom-right",e=n.getAttribute("widget-type")||"text-only"),new ChatWidget(t,e)}